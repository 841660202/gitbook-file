# 1. docker-node
file: docker-node/catalog.txt
```
.
├── Dockerfile
├── README.md
├── catalog.txt
├── package.json
└── server.js

0 directories, 5 files

```


file: docker-node/Dockerfile
```
FROM hub.c.163.com/library/node:latest
#制定node镜像的版本
# FROM node:8.9-alpine
#声明作者
MAINTAINER hailong
#移动当前目录下面的文件到app目录下
ADD . /app/
#进入到app目录下面，类似cd
WORKDIR /app
#安装依赖
RUN npm install
#对外暴露的端口
EXPOSE 3000
#程序启动脚本
CMD ["npm", "start"]
```


file: docker-node/package.json
```
{
  "name": "docker_node",
  "version": "0.1.0",
  "private": true,
  "scripts": {
    "start": "node server.js"
  },
  "dependencies": {
    "koa": "^2.5.0"
  }
}
```


file: docker-node/server.js
```
const Koa = require('koa');
const app = new Koa();

app.use(async ctx => {
  ctx.body = 'Hello docker';
});

app.listen(3000);
```

file: docker-node/.dockerignore
```
# Logs
logs
*.log
npm-debug.log*

# Runtime data
pids
*.pid
*.seed

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage

# nyc test coverage
.nyc_output

# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# node-waf configuration
.lock-wscript

# Compiled binary addons (http://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules
jspm_packages

# Optional npm cache directory
.npm

# Optional REPL history
.node_repl_history
.idea
.node_modules
node_modules
.vscode
```


file: docker-node/README.md
```
<!--
 * @version: v0.0.1
 * @Author: hailong.chen
 * @Date: 2019-11-28 23:13:16
 * @LastEditors: hailong.chen
 * @LastEditTime: 2019-11-30 20:51:12
 * @Descripttion: 
 -->
docker run --name nodeApp1 -p 8887:8888 nodeapp
docker run --name docker_demo -p 9999:3000 docker_demo
```

